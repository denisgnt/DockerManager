# üéØ Store vs useState - –®–ø–∞—Ä–≥–∞–ª–∫–∞

## –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ

```
                    –ù—É–∂–Ω–æ –≤ 2+ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö?
                              ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                   –î–ê                   –ù–ï–¢
                    ‚îÇ                    ‚îÇ
                    ‚Üì                    ‚Üì
              ZUSTAND STORE          useState
```

## ‚úÖ –í Store

**–ö—Ä–∏—Ç–µ—Ä–∏–∏:**
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ **2+ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö**
- [ ] –î–∞–Ω–Ω—ã–µ –æ—Ç **API/—Å–µ—Ä–≤–µ—Ä–∞**
- [ ] –ù—É–∂–Ω–æ **–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**
- [ ] **–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞**
- [ ] –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É **–º–∞—É–Ω—Ç–∞–º–∏**

**–ü—Ä–∏–º–µ—Ä—ã:**
```javascript
// ‚úÖ Store
containers, loading, error
selectedContainer
handleContainerAction()
fetchContainers()
viewMode (–≥–ª–æ–±–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
```

## ‚ùå –í useState

**–ö—Ä–∏—Ç–µ—Ä–∏–∏:**
- [ ] –õ–æ–∫–∞–ª—å–Ω–æ –¥–ª—è **–æ–¥–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞**
- [ ] **UI-–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** (–º–µ–Ω—é, –º–æ–¥–∞–ª–∫–∏)
- [ ] **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** (–ø–æ–∏—Å–∫, —Ñ–∏–ª—å—Ç—Ä—ã)
- [ ] –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ **–¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
- [ ] **–°–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è** –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
```javascript
// ‚úÖ useState
page, rowsPerPage (–ø–∞–≥–∏–Ω–∞—Ü–∏—è)
searchQuery (–ª–æ–∫–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫)
columnMenuAnchor (–º–µ–Ω—é –æ—Ç–∫—Ä—ã—Ç–æ/–∑–∞–∫—Ä—ã—Ç–æ)
visibleColumns (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ UI)
```

## üèó –û–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ Store?

### ‚úÖ –û–î–ò–ù Store
**–ö–æ–≥–¥–∞:**
- –ü—Ä–æ–µ–∫—Ç < 50 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ö–æ–º–∞–Ω–¥–∞ < 5 —á–µ–ª–æ–≤–µ–∫

**–í–∞—à —Å–ª—É—á–∞–π:** ‚úÖ Docker Manager

### üîÄ –ù–µ—Å–∫–æ–ª—å–∫–æ Stores
**–ö–æ–≥–¥–∞:**
- –ü—Ä–æ–µ–∫—Ç > 100 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –†–∞–∑–Ω—ã–µ –¥–æ–º–µ–Ω—ã (Auth, Products, Settings)
- –ë–æ–ª—å—à–∞—è –∫–æ–º–∞–Ω–¥–∞

## üé® –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–∞—Ç—Ç–µ—Ä–Ω 1: Props –æ—Ç App (—Ç–µ–∫—É—â–∏–π)
```javascript
// App.jsx
const { containers, onAction } = useDockerStore()
return <ContainerList containers={containers} onAction={onAction} />

// ContainerList.jsx
function ContainerList({ containers, onAction }) {
  const [searchQuery, setSearchQuery] = useState('') // –õ–æ–∫–∞–ª—å–Ω—ã–π UI
}
```

‚úÖ **–ü–ª—é—Å—ã:** –Ø–≤–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö  
‚ùå **–ú–∏–Ω—É—Å—ã:** Props drilling

### –ü–∞—Ç—Ç–µ—Ä–Ω 2: –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ Store
```javascript
// ContainerList.jsx
function ContainerList() {
  const containers = useDockerStore(s => s.containers) // –ò–∑ Store
  const onAction = useDockerStore(s => s.handleContainerAction)
  const [searchQuery, setSearchQuery] = useState('') // –õ–æ–∫–∞–ª—å–Ω—ã–π UI
}
```

‚úÖ **–ü–ª—é—Å—ã:** –ù–µ—Ç props drilling  
‚úÖ **–ú–∏–Ω—É—Å—ã:** –ú–µ–Ω—å—à–µ —è–≤–Ω–æ—Å—Ç–∏

## üìä –î–ª—è Docker Manager

| –°–æ—Å—Ç–æ—è–Ω–∏–µ | –ì–¥–µ? | –ü–æ—á–µ–º—É |
|-----------|------|--------|
| `containers` | Store | –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
| `loading` | Store | –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| `error` | Store | –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| `viewMode` | Store | –ì–ª–æ–±–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ |
| `page` | useState | –õ–æ–∫–∞–ª—å–Ω–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è |
| `searchQuery` | useState | –õ–æ–∫–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ |
| `visibleColumns` | useState | UI –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |

## üö¶ –ü—Ä–∞–≤–∏–ª–∞

### DO ‚úÖ
```javascript
// –°–µ–ª–µ–∫—Ç–æ—Ä—ã
const containers = useDockerStore(s => s.containers)

// –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
const { containers, loading } = useDockerStore(s => ({
  containers: s.containers,
  loading: s.loading
}))

// –õ–æ–∫–∞–ª—å–Ω—ã–π UI –≤ useState
const [searchQuery, setSearchQuery] = useState('')
```

### DON'T ‚ùå
```javascript
// –ù–µ –ø–æ–ª—É—á–∞–π—Ç–µ –≤–µ—Å—å store
const store = useDockerStore() // ‚ùå

// –ù–µ –¥—É–±–ª–∏—Ä—É–π—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
const containers = useDockerStore(s => s.containers)
const [localContainers, setLocal] = useState(containers) // ‚ùå

// –ù–µ –º—É—Ç–∏—Ä—É–π—Ç–µ –Ω–∞–ø—Ä—è–º—É—é
store.containers.push(item) // ‚ùå
```

## üéØ –í–∞—à–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –û—Å—Ç–∞–≤—å—Ç–µ –∫–∞–∫ –µ—Å—Ç—å!

useDockerStore (–æ–¥–∏–Ω Store)
  ‚îú‚îÄ containers, loading, error (–≥–ª–æ–±–∞–ª—å–Ω–æ)
  ‚îî‚îÄ fetchContainers(), handleAction() (–ª–æ–≥–∏–∫–∞)

ContainerList.jsx
  ‚îú‚îÄ useDockerStore —á–µ—Ä–µ–∑ props ‚úÖ
  ‚îî‚îÄ useState –¥–ª—è UI (page, search) ‚úÖ

ContainerLogs.jsx
  ‚îî‚îÄ useState –¥–ª—è –º–æ–¥–∞–ª–∫–∏ ‚úÖ
```

## üîÑ –ö–æ–≥–¥–∞ –º–µ–Ω—è—Ç—å

**–î–æ–±–∞–≤—å—Ç–µ –≤ Store –µ—Å–ª–∏:**
- SearchQuery –Ω—É–∂–µ–Ω –≤ **Header + List**
- visibleColumns –Ω—É–∂–Ω–æ **—Å–æ—Ö—Ä–∞–Ω—è—Ç—å** –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å **URL**

**–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Store –µ—Å–ª–∏:**
- –î–æ–±–∞–≤–ª—è–µ—Ç–µ **–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é**
- –î–æ–±–∞–≤–ª—è–µ—Ç–µ **–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
- –î–æ–±–∞–≤–ª—è–µ—Ç–µ **—á–∞—Ç/—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**

## üí° –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```javascript
// –°–ø—Ä–æ—Å–∏—Ç–µ —Å–µ–±—è:
1. –ù—É–∂–Ω–æ –ª–∏ —ç—Ç–æ –¥—Ä—É–≥–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º? ‚Üí Store
2. –≠—Ç–æ –¥–∞–Ω–Ω—ã–µ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞? ‚Üí Store
3. –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ UI (–º–µ–Ω—é, —Ñ–æ—Ä–º–∞)? ‚Üí useState
4. –ü—Ä–æ–ø–∞–¥—ë—Ç –ø—Ä–∏ unmount –∏ —ç—Ç–æ –û–ö? ‚Üí useState
```

---

**–ò—Ç–æ–≥:** –í–∞—à–∞ —Ç–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚úÖ **–û–ü–¢–ò–ú–ê–õ–¨–ù–ê**

*–®–ø–∞—Ä–≥–∞–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∞: 7 –Ω–æ—è–±—Ä—è 2025 –≥.*
