# ๐ ะัััััะน ััะฐัั - ะะตัะตัะฑะพัะบะฐ Docker

## ะัะพะฑะปะตะผะฐ
ะะตะฑ-ะธะฝัะตััะตะนั ะฝะตะดะพัััะฟะตะฝ ะฟะพ ะฐะดัะตัั http://10.174.18.242:3011/

## ะัะธัะธะฝะฐ
ะ production ัะตะถะธะผะต **Vite ะฝะต ะธัะฟะพะปัะทัะตััั**. ะะฐะฑะพัะฐะตั ัะพะปัะบะพ Express ัะตัะฒะตั ะฝะฐ ะฟะพััั 5005.

## โ ะะตัะตะฝะธะต

### ะะฒัะพะผะฐัะธัะตัะบะฐั ะฟะตัะตัะฑะพัะบะฐ (ัะตะบะพะผะตะฝะดัะตััั):

```bash
./docker_rebuild.sh
```

### ะััะฝะฐั ะฟะตัะตัะฑะพัะบะฐ:

```bash
# 1. ะััะฐะฝะพะฒะธัั ะธ ัะดะฐะปะธัั ะบะพะฝัะตะนะฝะตั
docker stop docker-manager
docker rm docker-manager

# 2. ะฃะดะฐะปะธัั ััะฐััะน ะพะฑัะฐะท (ะฒะฐะถะฝะพ!)
docker rmi dockermanager-docker-manager

# 3. ะะตัะตัะพะฑัะฐัั ะะะ ะบััะฐ
docker compose build --no-cache

# 4. ะะฐะฟัััะธัั
docker compose up -d

# 5. ะัะพะฒะตัะธัั ะปะพะณะธ
docker logs -f docker-manager
```

## ๐ฏ ะงัะพ ะธะทะผะตะฝะธะปะพัั

### 1. **docker-compose.yml**
```yaml
# ะัะปะพ:
ports:
  - "3011:3011"
  - "5005:5005"

# ะกัะฐะปะพ:
ports:
  - "3011:5005"  # ะฒะฝะตัะฝะธะน 3011 โ ะฒะฝัััะตะฝะฝะธะน 5005
```

### 2. **Dockerfile**
```dockerfile
# ะัะปะพ:
EXPOSE 3011 5005

# ะกัะฐะปะพ:
EXPOSE 5005  # ัะพะปัะบะพ backend
```

### 3. **vite.config.js**
```javascript
server: {
  host: '0.0.0.0',  // ะดะพะฑะฐะฒะปะตะฝะพ ะดะปั Docker
  port,
  // ...
}
```

## ๐ ะัะพะฒะตัะบะฐ

ะะพัะปะต ะฟะตัะตัะฑะพัะบะธ ะดะพะปะถะฝะพ ะฟะพัะฒะธัััั ะฒ ะปะพะณะฐั:

```
Server is running on port 5005
Docker API: http://10.174.18.242:2375
Scripts directory: /app/scripts
Environment: production
```

โ ะัะปะธ ะฒะธะดะธัะต `concurrently` ะธะปะธ `Environment: development` - ััะพ ะะจะะะะ!

## ๐ ะะพัััะฟ

ะะพัะปะต ััะฟะตัะฝะพะน ะฟะตัะตัะฑะพัะบะธ ะพัะบัะพะนัะต:
- **http://10.174.18.242:3011/**

## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะะฝะตัะฝะธะน ะทะฐะฟัะพั              โ
โ  http://10.174.18.242:3011/  โ
โโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโ
           โ
           โ Docker port mapping
           โ 3011 โ 5005
           โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Express Server (ะฟะพัั 5005)  โ
โ  โโ ะกัะฐัะธะบะฐ ะธะท /dist         โ
โ  โโ API: /api/*              โ
โ  โโ WebSocket: /socket.io    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## โ๏ธ ะะฐะถะฝะพ

- **Production**: ะขะพะปัะบะพ Express (ะฟะพัั 5005)
- **Development**: Vite (3011) + Express (5005)
- ะ Docker ะบะพะฝัะตะนะฝะตัะต ะฒัะตะณะดะฐ production!

## ๐ ะัะปะธ ะฝะต ัะฐะฑะพัะฐะตั

1. ะัะพะฒะตัััะต, ััะพ ะบะพะฝัะตะนะฝะตั ะทะฐะฟััะตะฝ:
   ```bash
   docker ps | grep docker-manager
   ```

2. ะัะพะฒะตัััะต ะปะพะณะธ ะฝะฐ ะพัะธะฑะบะธ:
   ```bash
   docker logs docker-manager
   ```

3. ะัะพะฒะตัััะต, ััะพ ะฟะพัั 3011 ะฝะต ะทะฐะฝัั:
   ```bash
   lsof -i :3011
   ```

4. ะะตัะตัะพะฑะตัะธัะต ะฑะตะท ะบััะฐ:
   ```bash
   ./docker_rebuild.sh
   ```
